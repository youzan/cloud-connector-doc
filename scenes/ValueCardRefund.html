
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<p>[toc]</p>
<h2 id="储值卡退款">储值卡退款</h2>
<ul>
<li><p>标识：ValueCardRefund</p></li>
<li><p>交换实体：com.youzan.cloud.connector.sdk.core.valuecard.ValueCardRefundExchangeEntity</p>
<h3 id="场景说明">场景说明</h3>
<p>储值卡退款</p>
<h3 id="场景流程入口">场景流程入口</h3></li>
</ul>
<table>
<thead>
<tr class="header">
<th>名称</th>
<th>标识</th>
<th>描述详情</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>储值卡退款</td>
<td>ValueCardRefundExt</td>
<td>储值卡退款</td>
</tr>
</tbody>
</table>
<h3 id="场景流程模板配置">场景流程模板配置</h3>
<ul>
<li>模板ID：ValueCardRefundTemplate</li>
<li>模板类：com.youzan.cloud.connector.sdk.template.valuecard.ValueCardRefundTemplate</li>
<li>模板参数类：com.youzan.cloud.connector.sdk.template.valuecard.ValueCardRefundTemplate$TemplateParameters</li>
</ul>
<h4 id="配置参数列表">配置参数列表</h4>
<hr />
<h5
id="tripartitevaluecardrefundtemplateuri">tripartiteValueCardRefundTemplateUri</h5>
<blockquote>
<p>调用三方储值卡退款</p>
</blockquote>
<p><strong>参数为必填项</strong></p>
<p><strong>是否允许自定义实现</strong>: Y</p>
<p><strong>定制示例</strong>:</p>
<pre><code>三方自行实现储值卡退款流程</code></pre>
<hr />
<h5 id="yzvaluecardrefundtemplateuri">yzValueCardRefundTemplateUri</h5>
<blockquote>
<p>有赞储值卡退款流程</p>
</blockquote>
<p><strong>参数为必填项</strong></p>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5
id="yzvaluecardrefundquerytemplateuri">yzValueCardRefundQueryTemplateUri</h5>
<blockquote>
<p>有赞储值卡退款查询流程</p>
</blockquote>
<p><strong>参数为必填项</strong></p>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="customshoprelationmapping">customShopRelationMapping</h5>
<blockquote>
<p>自定义外部店铺映射子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>:
bean:shopMappingProviderImpl?method=byYzShop</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bean:shopMappingProviderImpl?method=byYzShop</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<p><strong>定制示例</strong>:</p>
<pre><code>用户查询组件 UserMappingProvider</code></pre>
<hr />
<h5 id="customuserrelationmapping">customUserRelationMapping</h5>
<blockquote>
<p>自定义外部用户映射子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>:
bean:userMappingProviderImpl?method=byYzUser</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bean:userMappingProviderImpl?method=byYzUser</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<p><strong>定制示例</strong>:</p>
<pre><code>用户查询组件 UserMappingProvider</code></pre>
<hr />
<h5 id="custompayfeerelationmapping">customPayFeeRelationMapping</h5>
<blockquote>
<p>自定义储值支付信息映射子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>:
bean:valueCardPayFeeRelationProviderImpl?method=queryByPayDetailNo</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bean:valueCardPayFeeRelationProviderImpl?method=queryByPayDetailNo</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<p><strong>定制示例</strong>:</p>
<pre><code>店铺查询组件 ShopMappingProvider</code></pre>
<hr />
<h5
id="customshoprelationmappingfallback">customShopRelationMappingFallback</h5>
<blockquote>
<p>自定义外部店铺获取不到时的FallBack策略子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>: none</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>none</td>
<td>无业务逻辑处理</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5
id="customuserrelationmappingfallback">customUserRelationMappingFallback</h5>
<blockquote>
<p>自定义外部用户获取不到时的FallBack策略子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>: none</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>none</td>
<td>无业务逻辑处理</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5
id="custompayfeerelationmappingfallback">customPayFeeRelationMappingFallback</h5>
<blockquote>
<p>自定义储值支付信息获取不到时的FallBack策略子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>: none</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>none</td>
<td>无业务逻辑处理</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="customenrichcalcrefundamount">customEnrichCalcRefundAmount</h5>
<blockquote>
<p>自定义订单扩展扩展子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>:
bean:valueCardRefundComponent?method=calcRefundAmount</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bean:valueCardRefundComponent?method=calcRefundAmount</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="isconnectorcalc">isConnectorCalc</h5>
<blockquote>
<p>是否在有赞侧计算退款金额</p>
</blockquote>
<p><strong>默认值</strong>: true</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>true</td>
<td>在有赞计算支付金额</td>
</tr>
<tr class="even">
<td>false</td>
<td>不在有赞计算支付金额</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>


<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<p>[toc]</p>
<h2 id="外部券模版同步到有赞">外部券模版同步到有赞</h2>
<ul>
<li><p>标识：ActivityTemplateSyncReverse</p></li>
<li><p>交换实体：com.youzan.cloud.connector.sdk.core.voucher.ActivityTemplateQueryExchangeEntity</p>
<h3 id="场景说明">场景说明</h3>
<p>外部券模版同步到有赞</p>
<h3 id="场景流程入口">场景流程入口</h3></li>
</ul>
<table>
<thead>
<tr class="header">
<th>名称</th>
<th>标识</th>
<th>描述详情</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TSP拉取外部券模版</td>
<td>OutTemplateSyncTimer</td>
<td>TSP拉取外部券模版</td>
</tr>
<tr class="even">
<td>外部券模版同步处理</td>
<td>OutTemplateSyncMsg</td>
<td>外部券模版同步处理</td>
</tr>
</tbody>
</table>
<h3 id="场景流程模板配置">场景流程模板配置</h3>
<ul>
<li>模板ID：VoucherTemplateListQueryReverseTemplate</li>
<li>模板类：com.youzan.cloud.connector.sdk.template.voucher.list.VoucherTemplateListQueryReverseTemplate</li>
<li>模板参数类：com.youzan.cloud.connector.sdk.template.voucher.list.VoucherTemplateListQueryReverseTemplate$TemplateParameters</li>
</ul>
<h4 id="配置参数列表">配置参数列表</h4>
<hr />
<h5
id="yzvouchertemplatelistqueryreverseuri">yzVoucherTemplateListQueryReverseUri</h5>
<blockquote>
<p>有赞券模版列表逆向标准流程模板EndpointUri或模板ID</p>
</blockquote>
<p><strong>默认值</strong>: ActivityTemplateSyncYzTemplate-alpha</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ActivityTemplateSyncYzTemplate-alpha</td>
<td>有赞标准流程实现alpha版本</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5
id="tripartitevouchertemplatequeryuri">tripartiteVoucherTemplateQueryUri</h5>
<blockquote>
<p>外部三方根据标准交换实体同步查询券模版列表的子流程模板EndpointUri或模板ID</p>
</blockquote>
<p><strong>参数为必填项</strong></p>
<p><strong>是否允许自定义实现</strong>: Y</p>
<p><strong>定制示例</strong>:</p>
<pre><code>实现三方系统券列表查询操作，依赖数据从交换实体中获取</code></pre>
<hr />
<h5
id="deletevoucherafterreversesync">deleteVoucherAfterReverseSync</h5>
<blockquote>
<p>不存在模版是否执行删除操作</p>
</blockquote>
<p><strong>默认值</strong>: true</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>true</td>
<td>是</td>
</tr>
<tr class="even">
<td>false</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5
id="disableordeletewhennonexistent">disableOrDeleteWhenNonexistent</h5>
<blockquote>
<p>不存在的模版执行删除or失效操作</p>
</blockquote>
<p><strong>默认值</strong>: DISABLE</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DISABLE</td>
<td>失效</td>
</tr>
<tr class="even">
<td>DELETE</td>
<td>删除</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="applicableruleconfig">applicableRuleConfig</h5>
<blockquote>
<p>适用规则配置</p>
</blockquote>
<p><strong>默认值</strong>: 1</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>部分符合,使用规则只要又符合的就支持同步</td>
</tr>
<tr class="even">
<td>0</td>
<td>全部符合,所有适用规则必须全部符合</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="needupdateactivitytemplate">needUpdateActivityTemplate</h5>
<blockquote>
<p>是否需要更新券模版</p>
</blockquote>
<p><strong>默认值</strong>: false</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>false</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="customitemrelationmapping">customItemRelationMapping</h5>
<blockquote>
<p>自定义商品映射子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>:
bean:fullItemMappingFacadeImpl?method=queryYzFullItemInfo</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bean:fullItemMappingFacadeImpl?method=queryYzFullItemInfo</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
<hr />
<h5 id="customshoprelationmapping">customShopRelationMapping</h5>
<blockquote>
<p>自定义外部店铺映射子流程EndpointUri</p>
</blockquote>
<p><strong>默认值</strong>:
bean:shopMappingProviderImpl?method=byOutShop</p>
<table>
<thead>
<tr class="header">
<th>已支持的参数值</th>
<th>值含义说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bean:shopMappingProviderImpl?method=byOutShop</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>是否允许自定义实现</strong>: Y</p>
